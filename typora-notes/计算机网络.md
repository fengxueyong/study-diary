# 网络基础实战篇

## OSI网络七层模型



![image-20220714104920089](计算机网络.assets/image-20220714104920089.png)



后来简化成了5层：

![image-20220714105106623](计算机网络.assets/image-20220714105106623.png)



![image-20220714105350170](计算机网络.assets/image-20220714105350170.png)



上图是对应的硬件设备

   ![image-20220714105645740](计算机网络.assets/image-20220714105645740.png)

这个是协议栈



**表示层进一步说明：**

![image-20220714105908459](计算机网络.assets/image-20220714105908459.png)



**会话层**



![image-20220714110005069](计算机网络.assets/image-20220714110005069.png)



![image-20220714110051505](计算机网络.assets/image-20220714110051505.png)



**传输层**

![image-20220714110134919](计算机网络.assets/image-20220714110134919.png)



![image-20220714110239771](计算机网络.assets/image-20220714110239771.png)



## TCP、IP协议设计剖析

![image-20220714110519164](计算机网络.assets/image-20220714110519164.png)



![image-20220714110610331](计算机网络.assets/image-20220714110610331.png)



![image-20220714110855150](计算机网络.assets/image-20220714110855150.png)



如上，在IP层，加了IP首部，那么在传输层的所有数据（包括TCP首部）就是IP层的数据。每一层的数据包都是由该层的首部+上层的数据包

![image-20220714111255859](计算机网络.assets/image-20220714111255859.png)



![image-20220714111541029](计算机网络.assets/image-20220714111541029.png)



![image-20220714111702938](计算机网络.assets/image-20220714111702938.png)



![image-20220714111722704](计算机网络.assets/image-20220714111722704.png)

![image-20220714111844730](计算机网络.assets/image-20220714111844730.png)



![image-20220714111907242](计算机网络.assets/image-20220714111907242.png)



![image-20220714112008310](计算机网络.assets/image-20220714112008310.png)





![image-20220714113457827](计算机网络.assets/image-20220714113457827.png)



![image-20220714113810854](计算机网络.assets/image-20220714113810854.png)



![image-20220714114048257](计算机网络.assets/image-20220714114048257.png)



![image-20220714114140086](计算机网络.assets/image-20220714114140086.png)



![image-20220714131913165](计算机网络.assets/image-20220714131913165.png)



四次挥手

![image-20220714134143388](计算机网络.assets/image-20220714134143388.png)

![image-20220714135734638](计算机网络.assets/image-20220714135734638.png)



![image-20220714135750872](计算机网络.assets/image-20220714135750872.png)



![image-20220714135806890](计算机网络.assets/image-20220714135806890.png)



![image-20220714135840138](计算机网络.assets/image-20220714135840138.png)



![image-20220714140028108](计算机网络.assets/image-20220714140028108.png)

![image-20220714140038723](计算机网络.assets/image-20220714140038723.png)



![image-20220714152340075](计算机网络.assets/image-20220714152340075.png)



![image-20220714152420947](计算机网络.assets/image-20220714152420947.png)



![image-20220714152521898](计算机网络.assets/image-20220714152521898.png)



![image-20220714152540003](计算机网络.assets/image-20220714152540003.png)



![image-20220714152806090](计算机网络.assets/image-20220714152806090.png)



### TCP连接状态的深度解析

![image-20220714152916418](计算机网络.assets/image-20220714152916418.png)



![image-20220714153101231](计算机网络.assets/image-20220714153101231.png)



![image-20220714153133976](计算机网络.assets/image-20220714153133976.png)



![image-20220714153226190](计算机网络.assets/image-20220714153226190.png)



![image-20220714153420908](计算机网络.assets/image-20220714153420908.png)

![image-20220714153514519](计算机网络.assets/image-20220714153514519.png)

![image-20220714153640434](计算机网络.assets/image-20220714153640434.png)



![image-20220714153741194](计算机网络.assets/image-20220714153741194.png)



![image-20220714153810593](计算机网络.assets/image-20220714153810593.png)



![image-20220714153915642](计算机网络.assets/image-20220714153915642.png)



![image-20220714153952931](计算机网络.assets/image-20220714153952931.png)



### Http，Https协议

![image-20220714154230098](计算机网络.assets/image-20220714154230098.png)



![image-20220714154343739](计算机网络.assets/image-20220714154343739.png)

![image-20220714154513988](计算机网络.assets/image-20220714154513988.png)



![image-20220714154638943](计算机网络.assets/image-20220714154638943.png)



![image-20220714154811027](计算机网络.assets/image-20220714154811027.png)



![image-20220714155045591](计算机网络.assets/image-20220714155045591.png)



### 客户端-服务器网络模型的设计和实现

![image-20220714155158041](计算机网络.assets/image-20220714155158041.png)



![image-20220714155249057](计算机网络.assets/image-20220714155249057.png)



![image-20220714155315484](计算机网络.assets/image-20220714155315484.png)



![image-20220714155446723](计算机网络.assets/image-20220714155446723.png)





# 网络实战进阶篇

## socket



![image-20220714160102913](计算机网络.assets/image-20220714160102913.png)



上面的媒体就是：网卡

应用层在用户态，下面在内核态

![image-20220714161042558](计算机网络.assets/image-20220714161042558.png)

![image-20220714161209982](计算机网络.assets/image-20220714161209982.png)



![image-20220714161401723](计算机网络.assets/image-20220714161401723.png)



![image-20220714161540422](计算机网络.assets/image-20220714161540422.png)



![image-20220714161751814](计算机网络.assets/image-20220714161751814.png)



## IO模型

可参考另外的一个md文件



## NIO编程



![image-20220714194906200](计算机网络.assets/image-20220714194906200.png)



![image-20220714195048787](计算机网络.assets/image-20220714195048787.png)



![image-20220714195629525](计算机网络.assets/image-20220714195629525.png)



![image-20220714195806285](计算机网络.assets/image-20220714195806285.png)



![image-20220714195853775](计算机网络.assets/image-20220714195853775.png)

![image-20220714200137389](计算机网络.assets/image-20220714200137389.png)

![image-20220714200240878](计算机网络.assets/image-20220714200240878.png)



![image-20220714200704744](计算机网络.assets/image-20220714200704744.png)



![image-20220714200947901](计算机网络.assets/image-20220714200947901.png)



![image-20220714201149740](计算机网络.assets/image-20220714201149740.png)



![image-20220714201418739](计算机网络.assets/image-20220714201418739.png)



![image-20220714201555321](计算机网络.assets/image-20220714201555321.png)



这种模式在许多项目中广泛使用，包括Nginx主从Reactor多进程模型，memcached，netty等

![image-20220714202117694](计算机网络.assets/image-20220714202117694.png)



![image-20220714202159677](计算机网络.assets/image-20220714202159677.png)



![image-20220714202308899](计算机网络.assets/image-20220714202308899.png)



![image-20220714202410653](计算机网络.assets/image-20220714202410653.png)



## Netty

![image-20220714203715191](计算机网络.assets/image-20220714203715191.png)



![image-20220714203924111](计算机网络.assets/image-20220714203924111.png)



![image-20220714204038784](计算机网络.assets/image-20220714204038784.png)

![image-20220714204250568](计算机网络.assets/image-20220714204250568.png)



![image-20220714204358864](计算机网络.assets/image-20220714204358864.png)



![image-20220714204622393](计算机网络.assets/image-20220714204622393.png)



![image-20220714204710617](计算机网络.assets/image-20220714204710617.png)

![image-20220714204841588](计算机网络.assets/image-20220714204841588.png)

